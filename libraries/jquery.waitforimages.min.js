!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){var s,t="waitForImages",r=(s=new Image).srcset&&s.sizes;e.waitForImages={hasImageProperties:["content"],hasImageAttributes:["srcset"]},e.expr.pseudos["has-src"]=function(s){return e(s).is('img[src][src!=""]')},e.expr.pseudos.uncached=function(s){return!!e(s).is(":has-src")&&!s.complete},e.fn.waitForImages=function(){var s,i,n,a=0,o=0,c=e.Deferred(),u=this,h=[],f=e.waitForImages.hasImageProperties||[];e.waitForImages.hasImageAttributes;var l=/url\(\s*(['"]?)(.*?)\1\s*\)/g;if(e.isPlainObject(arguments[0])?(n=arguments[0].waitForAll,i=arguments[0].each,s=arguments[0].finished):1===arguments.length&&"boolean"===e.type(arguments[0])?n=arguments[0]:(s=arguments[0],i=arguments[1],n=arguments[2]),s=s||e.noop,i=i||e.noop,n=!!n,!e.isFunction(s)||!e.isFunction(i))throw TypeError("An invalid callback was supplied.");return this.each(function(){var s=e(this);n&&s.find("*").addBack().each(function(){var s=e(this);e.each(f,function(e,t){var r,i=s.css(t);if(!i)return!0;for(;r=l.exec(i);)h.push({src:r[2],element:s[0]})})})}),a=h.length,o=0,0===a&&(s.call(u),c.resolveWith(u)),e.each(h,function(n,h){var f=new Image,l="load."+t+" error."+t;e(f).one(l,function t(r){var n=[o,a,"load"==r.type];if(o++,i.apply(h.element,n),c.notifyWith(h.element,n),e(this).off(l,t),o==a)return s.call(u[0]),c.resolveWith(u[0]),!1}),r&&h.srcset&&(f.srcset=h.srcset,f.sizes=h.sizes),f.src=h.src}),c.promise()}});